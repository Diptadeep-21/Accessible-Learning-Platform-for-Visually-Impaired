{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KIIT0001\\\\Desktop\\\\accessible-learning-platform\\\\frontend\\\\src\\\\pages\\\\CourseList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { speak } from '../utils/voiceUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseList = () => {\n  _s();\n  const [courses, setCourses] = useState([]);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  useEffect(() => {\n    const fetchCourses = async () => {\n      try {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('token')}`;\n        const res = await axios.get('/courses');\n        setCourses(res.data);\n        speak(`Found ${res.data.length} courses. Say next to hear the next one, or select number to open.`);\n      } catch (err) {\n        speak('Error fetching courses.');\n      }\n    };\n    fetchCourses();\n  }, []);\n  useEffect(() => {\n    const handleCommand = e => {\n      const command = e.detail;\n      if (command.includes('next')) {\n        setSelectedIndex(prev => {\n          const next = (prev + 1) % courses.length;\n          speak(courses[next].title + '. ' + courses[next].description);\n          return next;\n        });\n      } else if (command.match(/select (\\d+)/)) {\n        const index = parseInt(command.match(/select (\\d+)/)[1]) - 1;\n        if (index < courses.length) {\n          speak(`Opening course: ${courses[index].title}`);\n          // Navigate to detail (use Router or state)\n          window.location.href = `/course/${courses[index]._id}`;\n        }\n      }\n    };\n    window.addEventListener('voiceCommand', handleCommand);\n    return () => window.removeEventListener('voiceCommand', handleCommand);\n  }, [courses]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"aria-live\": \"polite\",\n    children: \"Course List (Voice Navigation)\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 10\n  }, this);\n};\n_s(CourseList, \"+SHCMcsraORZbGXHirqw6Jq6zu4=\");\n_c = CourseList;\nexport default CourseList;\nvar _c;\n$RefreshReg$(_c, \"CourseList\");","map":{"version":3,"names":["React","useState","useEffect","axios","speak","jsxDEV","_jsxDEV","CourseList","_s","courses","setCourses","selectedIndex","setSelectedIndex","fetchCourses","defaults","headers","common","localStorage","getItem","res","get","data","length","err","handleCommand","e","command","detail","includes","prev","next","title","description","match","index","parseInt","window","location","href","_id","addEventListener","removeEventListener","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/KIIT0001/Desktop/accessible-learning-platform/frontend/src/pages/CourseList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { speak } from '../utils/voiceUtils';\r\n\r\nconst CourseList = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [selectedIndex, setSelectedIndex] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    const fetchCourses = async () => {\r\n      try {\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('token')}`;\r\n        const res = await axios.get('/courses');\r\n        setCourses(res.data);\r\n        speak(`Found ${res.data.length} courses. Say next to hear the next one, or select number to open.`);\r\n      } catch (err) {\r\n        speak('Error fetching courses.');\r\n      }\r\n    };\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleCommand = (e) => {\r\n      const command = e.detail;\r\n      if (command.includes('next')) {\r\n        setSelectedIndex((prev) => {\r\n          const next = (prev + 1) % courses.length;\r\n          speak(courses[next].title + '. ' + courses[next].description);\r\n          return next;\r\n        });\r\n      } else if (command.match(/select (\\d+)/)) {\r\n        const index = parseInt(command.match(/select (\\d+)/)[1]) - 1;\r\n        if (index < courses.length) {\r\n          speak(`Opening course: ${courses[index].title}`);\r\n          // Navigate to detail (use Router or state)\r\n          window.location.href = `/course/${courses[index]._id}`;\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener('voiceCommand', handleCommand);\r\n    return () => window.removeEventListener('voiceCommand', handleCommand);\r\n  }, [courses]);\r\n\r\n  return <div aria-live=\"polite\">Course List (Voice Navigation)</div>;\r\n};\r\n\r\nexport default CourseList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEtDC,SAAS,CAAC,MAAM;IACd,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACFV,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;QAC1F,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,UAAU,CAAC;QACvCV,UAAU,CAACS,GAAG,CAACE,IAAI,CAAC;QACpBjB,KAAK,CAAC,SAASe,GAAG,CAACE,IAAI,CAACC,MAAM,oEAAoE,CAAC;MACrG,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZnB,KAAK,CAAC,yBAAyB,CAAC;MAClC;IACF,CAAC;IACDS,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAENX,SAAS,CAAC,MAAM;IACd,MAAMsB,aAAa,GAAIC,CAAC,IAAK;MAC3B,MAAMC,OAAO,GAAGD,CAAC,CAACE,MAAM;MACxB,IAAID,OAAO,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAE;QAC5BhB,gBAAgB,CAAEiB,IAAI,IAAK;UACzB,MAAMC,IAAI,GAAG,CAACD,IAAI,GAAG,CAAC,IAAIpB,OAAO,CAACa,MAAM;UACxClB,KAAK,CAACK,OAAO,CAACqB,IAAI,CAAC,CAACC,KAAK,GAAG,IAAI,GAAGtB,OAAO,CAACqB,IAAI,CAAC,CAACE,WAAW,CAAC;UAC7D,OAAOF,IAAI;QACb,CAAC,CAAC;MACJ,CAAC,MAAM,IAAIJ,OAAO,CAACO,KAAK,CAAC,cAAc,CAAC,EAAE;QACxC,MAAMC,KAAK,GAAGC,QAAQ,CAACT,OAAO,CAACO,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAC5D,IAAIC,KAAK,GAAGzB,OAAO,CAACa,MAAM,EAAE;UAC1BlB,KAAK,CAAC,mBAAmBK,OAAO,CAACyB,KAAK,CAAC,CAACH,KAAK,EAAE,CAAC;UAChD;UACAK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,WAAW7B,OAAO,CAACyB,KAAK,CAAC,CAACK,GAAG,EAAE;QACxD;MACF;IACF,CAAC;IACDH,MAAM,CAACI,gBAAgB,CAAC,cAAc,EAAEhB,aAAa,CAAC;IACtD,OAAO,MAAMY,MAAM,CAACK,mBAAmB,CAAC,cAAc,EAAEjB,aAAa,CAAC;EACxE,CAAC,EAAE,CAACf,OAAO,CAAC,CAAC;EAEb,oBAAOH,OAAA;IAAK,aAAU,QAAQ;IAAAoC,QAAA,EAAC;EAA8B;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AACrE,CAAC;AAACtC,EAAA,CAzCID,UAAU;AAAAwC,EAAA,GAAVxC,UAAU;AA2ChB,eAAeA,UAAU;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}