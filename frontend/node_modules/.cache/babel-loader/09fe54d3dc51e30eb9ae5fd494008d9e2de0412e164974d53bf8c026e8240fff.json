{"ast":null,"code":"// Speech Recognition Setup\nlet recognition;\nlet isListening = false;\nif ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n  recognition = new SpeechRecognition();\n  recognition.continuous = true;\n  recognition.interimResults = false;\n  recognition.lang = 'en-US';\n} else {\n  console.error('Speech Recognition not supported');\n}\n\n// TTS Setup\nconst speak = (text, onEnd = () => {}) => {\n  const utterance = new SpeechSynthesisUtterance(text);\n  utterance.onend = onEnd;\n  speechSynthesis.speak(utterance);\n};\nconst startListening = onResult => {\n  if (!recognition || isListening) return;\n  recognition.onresult = event => {\n    const command = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();\n    onResult(command);\n  };\n  recognition.onend = () => {\n    isListening = false;\n  };\n  recognition.onerror = () => {\n    isListening = false;\n  };\n  try {\n    recognition.start();\n    isListening = true;\n  } catch (e) {\n    // If already started, ignore the error\n    // Optionally, you can log it: console.warn(e);\n  }\n};\nconst stopListening = () => {\n  if (recognition && isListening) {\n    recognition.stop();\n    isListening = false;\n  }\n};\nexport { speak, startListening, stopListening };","map":{"version":3,"names":["recognition","isListening","window","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","console","error","speak","text","onEnd","utterance","SpeechSynthesisUtterance","onend","speechSynthesis","startListening","onResult","onresult","event","command","results","length","transcript","toLowerCase","trim","onerror","start","e","stopListening","stop"],"sources":["C:/Users/KIIT0001/Desktop/accessible-learning-platform/frontend/src/utils/voiceUtils.js"],"sourcesContent":["// Speech Recognition Setup\r\nlet recognition;\r\nlet isListening = false;\r\n\r\nif ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\r\n  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n  recognition = new SpeechRecognition();\r\n  recognition.continuous = true;\r\n  recognition.interimResults = false;\r\n  recognition.lang = 'en-US';\r\n} else {\r\n  console.error('Speech Recognition not supported');\r\n}\r\n\r\n// TTS Setup\r\nconst speak = (text, onEnd = () => {}) => {\r\n  const utterance = new SpeechSynthesisUtterance(text);\r\n  utterance.onend = onEnd;\r\n  speechSynthesis.speak(utterance);\r\n};\r\n\r\nconst startListening = (onResult) => {\r\n  if (!recognition || isListening) return;\r\n  recognition.onresult = (event) => {\r\n    const command = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();\r\n    onResult(command);\r\n  };\r\n  recognition.onend = () => {\r\n    isListening = false;\r\n  };\r\n  recognition.onerror = () => {\r\n    isListening = false;\r\n  };\r\n  try {\r\n    recognition.start();\r\n    isListening = true;\r\n  } catch (e) {\r\n    // If already started, ignore the error\r\n    // Optionally, you can log it: console.warn(e);\r\n  }\r\n};\r\n\r\nconst stopListening = () => {\r\n  if (recognition && isListening) {\r\n    recognition.stop();\r\n    isListening = false;\r\n  }\r\n};\r\n\r\nexport { speak, startListening, stopListening };"],"mappings":"AAAA;AACA,IAAIA,WAAW;AACf,IAAIC,WAAW,GAAG,KAAK;AAEvB,IAAI,mBAAmB,IAAIC,MAAM,IAAI,yBAAyB,IAAIA,MAAM,EAAE;EACxE,MAAMC,iBAAiB,GAAGD,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB;EACpFJ,WAAW,GAAG,IAAIG,iBAAiB,CAAC,CAAC;EACrCH,WAAW,CAACK,UAAU,GAAG,IAAI;EAC7BL,WAAW,CAACM,cAAc,GAAG,KAAK;EAClCN,WAAW,CAACO,IAAI,GAAG,OAAO;AAC5B,CAAC,MAAM;EACLC,OAAO,CAACC,KAAK,CAAC,kCAAkC,CAAC;AACnD;;AAEA;AACA,MAAMC,KAAK,GAAGA,CAACC,IAAI,EAAEC,KAAK,GAAGA,CAAA,KAAM,CAAC,CAAC,KAAK;EACxC,MAAMC,SAAS,GAAG,IAAIC,wBAAwB,CAACH,IAAI,CAAC;EACpDE,SAAS,CAACE,KAAK,GAAGH,KAAK;EACvBI,eAAe,CAACN,KAAK,CAACG,SAAS,CAAC;AAClC,CAAC;AAED,MAAMI,cAAc,GAAIC,QAAQ,IAAK;EACnC,IAAI,CAAClB,WAAW,IAAIC,WAAW,EAAE;EACjCD,WAAW,CAACmB,QAAQ,GAAIC,KAAK,IAAK;IAChC,MAAMC,OAAO,GAAGD,KAAK,CAACE,OAAO,CAACF,KAAK,CAACE,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU,CAACC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAC1FR,QAAQ,CAACG,OAAO,CAAC;EACnB,CAAC;EACDrB,WAAW,CAACe,KAAK,GAAG,MAAM;IACxBd,WAAW,GAAG,KAAK;EACrB,CAAC;EACDD,WAAW,CAAC2B,OAAO,GAAG,MAAM;IAC1B1B,WAAW,GAAG,KAAK;EACrB,CAAC;EACD,IAAI;IACFD,WAAW,CAAC4B,KAAK,CAAC,CAAC;IACnB3B,WAAW,GAAG,IAAI;EACpB,CAAC,CAAC,OAAO4B,CAAC,EAAE;IACV;IACA;EAAA;AAEJ,CAAC;AAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC1B,IAAI9B,WAAW,IAAIC,WAAW,EAAE;IAC9BD,WAAW,CAAC+B,IAAI,CAAC,CAAC;IAClB9B,WAAW,GAAG,KAAK;EACrB;AACF,CAAC;AAED,SAASS,KAAK,EAAEO,cAAc,EAAEa,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}