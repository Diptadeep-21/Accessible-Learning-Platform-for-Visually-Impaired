{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import Login from'./pages/Login';import Register from'./pages/Register';import Home from'./pages/Home';import CourseList from'./pages/CourseList';import CourseDetail from'./pages/CourseDetail';import Profile from'./pages/Profile';import{speak,startListening,stopListening}from'./utils/voiceUtils';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.baseURL='http://localhost:5000/api';const App=()=>{const[isLoggedIn,setIsLoggedIn]=useState(!!localStorage.getItem('token'));const[currentPage,setCurrentPage]=useState('login');useEffect(()=>{startListening(handleVoiceCommand);return()=>stopListening();// eslint-disable-next-line\n},[]);const handleVoiceCommand=command=>{speak(\"You said: \".concat(command));if(command.includes('help')){speak('Available commands: login, register, home, courses, profile, logout, repeat, volume up, volume down.');}else if(command.includes('login')){setCurrentPage('login');speak('Navigating to login.');}else if(command.includes('register')){setCurrentPage('register');speak('Navigating to register.');}else if(command.includes('home')){setCurrentPage('home');speak('Navigating to home.');}else if(command.includes('courses')){setCurrentPage('courses');speak('Navigating to courses.');}else if(command.includes('profile')){setCurrentPage('profile');speak('Navigating to profile.');}else if(command.includes('logout')){localStorage.removeItem('token');setIsLoggedIn(false);setCurrentPage('login');speak('Logged out.');}else if(command.includes('repeat')){speak('Repeating last message.');}else if(command.includes('volume up')){speak('Volume increased.');}else if(command.includes('volume down')){speak('Volume decreased.');}else{window.dispatchEvent(new CustomEvent('voiceCommand',{detail:command}));}};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{role:\"main\",\"aria-label\":\"Accessible Learning Platform\",children:[/*#__PURE__*/_jsx(\"h1\",{hidden:true,children:\"Accessible Learning Platform for the Blind\"}),/*#__PURE__*/_jsx(Routes,{children:!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Login,{setIsLoggedIn:setIsLoggedIn})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",element:/*#__PURE__*/_jsx(CourseList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/course/:id\",element:/*#__PURE__*/_jsx(CourseDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","Login","Register","Home","CourseList","CourseDetail","Profile","speak","startListening","stopListening","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","defaults","baseURL","App","isLoggedIn","setIsLoggedIn","localStorage","getItem","currentPage","setCurrentPage","handleVoiceCommand","command","concat","includes","removeItem","window","dispatchEvent","CustomEvent","detail","children","role","hidden","path","element","to"],"sources":["C:/Users/KIIT0001/Desktop/accessible-learning-platform/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Home from './pages/Home';\nimport CourseList from './pages/CourseList';\nimport CourseDetail from './pages/CourseDetail';\nimport Profile from './pages/Profile';\nimport { speak, startListening, stopListening } from './utils/voiceUtils';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'http://localhost:5000/api';\n\nconst App = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem('token'));\n  const [currentPage, setCurrentPage] = useState('login');\n\n  useEffect(() => {\n    startListening(handleVoiceCommand);\n    return () => stopListening();\n    // eslint-disable-next-line\n  }, []);\n\n  const handleVoiceCommand = (command) => {\n    speak(`You said: ${command}`);\n    if (command.includes('help')) {\n      speak('Available commands: login, register, home, courses, profile, logout, repeat, volume up, volume down.');\n    } else if (command.includes('login')) {\n      setCurrentPage('login');\n      speak('Navigating to login.');\n    } else if (command.includes('register')) {\n      setCurrentPage('register');\n      speak('Navigating to register.');\n    } else if (command.includes('home')) {\n      setCurrentPage('home');\n      speak('Navigating to home.');\n    } else if (command.includes('courses')) {\n      setCurrentPage('courses');\n      speak('Navigating to courses.');\n    } else if (command.includes('profile')) {\n      setCurrentPage('profile');\n      speak('Navigating to profile.');\n    } else if (command.includes('logout')) {\n      localStorage.removeItem('token');\n      setIsLoggedIn(false);\n      setCurrentPage('login');\n      speak('Logged out.');\n    } else if (command.includes('repeat')) {\n      speak('Repeating last message.');\n    } else if (command.includes('volume up')) {\n      speak('Volume increased.');\n    } else if (command.includes('volume down')) {\n      speak('Volume decreased.');\n    } else {\n      window.dispatchEvent(new CustomEvent('voiceCommand', { detail: command }));\n    }\n  };\n\n  return (\n    <Router>\n      <div role=\"main\" aria-label=\"Accessible Learning Platform\">\n        <h1 hidden>Accessible Learning Platform for the Blind</h1>\n        <Routes>\n          {!isLoggedIn ? (\n            <>\n              <Route path=\"/register\" element={<Register setIsLoggedIn={setIsLoggedIn} />} />\n              <Route path=\"*\" element={<Login setIsLoggedIn={setIsLoggedIn} />} />\n            </>\n          ) : (\n            <>\n              <Route path=\"/\" element={<Home />} />\n              <Route path=\"/courses\" element={<CourseList />} />\n              <Route path=\"/course/:id\" element={<CourseDetail />} />\n              <Route path=\"/profile\" element={<Profile />} />\n              <Route path=\"*\" element={<Navigate to=\"/\" />} />\n            </>\n          )}\n        </Routes>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}