{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{speak}from'../utils/voiceUtils';import{jsx as _jsx}from\"react/jsx-runtime\";const Login=_ref=>{let{setIsLoggedIn}=_ref;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[step,setStep]=useState(0);// 0: username, 1: password, 2: submit\nuseEffect(()=>{speak('Welcome to login. Say your username.');const handleCommand=e=>{const command=e.detail;if(step===0){setUsername(command);setStep(1);speak(\"Username set to \".concat(command,\". Now say your password.\"));}else if(step===1){setPassword(command);setStep(2);speak(\"Password set. Say login to submit.\");}else if(step===2&&command.includes('login')){handleLogin();}};window.addEventListener('voiceCommand',handleCommand);return()=>window.removeEventListener('voiceCommand',handleCommand);},[step]);const handleLogin=async()=>{try{const res=await axios.post('/auth/login',{username,password});localStorage.setItem('token',res.data.token);setIsLoggedIn(true);speak('Login successful. Welcome!');}catch(err){speak('Login failed. Try again.');setStep(0);}};return/*#__PURE__*/_jsx(\"div\",{\"aria-live\":\"polite\",children:\"Login Page (Voice Controlled)\"});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","axios","speak","jsx","_jsx","Login","_ref","setIsLoggedIn","username","setUsername","password","setPassword","step","setStep","handleCommand","e","command","detail","concat","includes","handleLogin","window","addEventListener","removeEventListener","res","post","localStorage","setItem","data","token","err","children"],"sources":["C:/Users/KIIT0001/Desktop/accessible-learning-platform/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { speak } from '../utils/voiceUtils';\r\n\r\nconst Login = ({ setIsLoggedIn }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [step, setStep] = useState(0); // 0: username, 1: password, 2: submit\r\n\r\n  useEffect(() => {\r\n    speak('Welcome to login. Say your username.');\r\n    const handleCommand = (e) => {\r\n      const command = e.detail;\r\n      if (step === 0) {\r\n        setUsername(command);\r\n        setStep(1);\r\n        speak(`Username set to ${command}. Now say your password.`);\r\n      } else if (step === 1) {\r\n        setPassword(command);\r\n        setStep(2);\r\n        speak(`Password set. Say login to submit.`);\r\n      } else if (step === 2 && command.includes('login')) {\r\n        handleLogin();\r\n      }\r\n    };\r\n    window.addEventListener('voiceCommand', handleCommand);\r\n    return () => window.removeEventListener('voiceCommand', handleCommand);\r\n  }, [step]);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const res = await axios.post('/auth/login', { username, password });\r\n      localStorage.setItem('token', res.data.token);\r\n      setIsLoggedIn(true);\r\n      speak('Login successful. Welcome!');\r\n    } catch (err) {\r\n      speak('Login failed. Try again.');\r\n      setStep(0);\r\n    }\r\n  };\r\n\r\n  return <div aria-live=\"polite\">Login Page (Voice Controlled)</div>;\r\n};\r\n\r\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,KAAM,CAAAC,KAAK,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,IAAI,CAAEC,OAAO,CAAC,CAAGd,QAAQ,CAAC,CAAC,CAAC,CAAE;AAErCC,SAAS,CAAC,IAAM,CACdE,KAAK,CAAC,sCAAsC,CAAC,CAC7C,KAAM,CAAAY,aAAa,CAAIC,CAAC,EAAK,CAC3B,KAAM,CAAAC,OAAO,CAAGD,CAAC,CAACE,MAAM,CACxB,GAAIL,IAAI,GAAK,CAAC,CAAE,CACdH,WAAW,CAACO,OAAO,CAAC,CACpBH,OAAO,CAAC,CAAC,CAAC,CACVX,KAAK,oBAAAgB,MAAA,CAAoBF,OAAO,4BAA0B,CAAC,CAC7D,CAAC,IAAM,IAAIJ,IAAI,GAAK,CAAC,CAAE,CACrBD,WAAW,CAACK,OAAO,CAAC,CACpBH,OAAO,CAAC,CAAC,CAAC,CACVX,KAAK,qCAAqC,CAAC,CAC7C,CAAC,IAAM,IAAIU,IAAI,GAAK,CAAC,EAAII,OAAO,CAACG,QAAQ,CAAC,OAAO,CAAC,CAAE,CAClDC,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CACDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAER,aAAa,CAAC,CACtD,MAAO,IAAMO,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAET,aAAa,CAAC,CACxE,CAAC,CAAE,CAACF,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAQ,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAI,GAAG,CAAG,KAAM,CAAAvB,KAAK,CAACwB,IAAI,CAAC,aAAa,CAAE,CAAEjB,QAAQ,CAAEE,QAAS,CAAC,CAAC,CACnEgB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC,CAC7CtB,aAAa,CAAC,IAAI,CAAC,CACnBL,KAAK,CAAC,4BAA4B,CAAC,CACrC,CAAE,MAAO4B,GAAG,CAAE,CACZ5B,KAAK,CAAC,0BAA0B,CAAC,CACjCW,OAAO,CAAC,CAAC,CAAC,CACZ,CACF,CAAC,CAED,mBAAOT,IAAA,QAAK,YAAU,QAAQ,CAAA2B,QAAA,CAAC,+BAA6B,CAAK,CAAC,CACpE,CAAC,CAED,cAAe,CAAA1B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}