{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{speak}from'../utils/voiceUtils';import{jsx as _jsx}from\"react/jsx-runtime\";const CourseDetail=()=>{const{id}=useParams();const[course,setCourse]=useState(null);useEffect(()=>{const fetchCourse=async()=>{try{axios.defaults.headers.common['Authorization']=\"Bearer \".concat(localStorage.getItem('token'));const res=await axios.get(\"/courses/\".concat(id));setCourse(res.data);speak(\"Course: \".concat(res.data.title,\". Description: \").concat(res.data.description,\". Say play to hear content.\"));}catch(err){speak('Error fetching course.');}};fetchCourse();},[id]);useEffect(()=>{if(course){const handleCommand=e=>{const command=e.detail;if(command.includes('play')){speak(course.content);// TTS the content\n}else if(command.includes('pause')){speechSynthesis.pause();}else if(command.includes('resume')){speechSynthesis.resume();}else if(command.includes('stop')){speechSynthesis.cancel();}};window.addEventListener('voiceCommand',handleCommand);return()=>window.removeEventListener('voiceCommand',handleCommand);}},[course]);return/*#__PURE__*/_jsx(\"div\",{\"aria-live\":\"polite\",children:\"Course Detail (Voice Playback)\"});};export default CourseDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","speak","jsx","_jsx","CourseDetail","id","course","setCourse","fetchCourse","defaults","headers","common","concat","localStorage","getItem","res","get","data","title","description","err","handleCommand","e","command","detail","includes","content","speechSynthesis","pause","resume","cancel","window","addEventListener","removeEventListener","children"],"sources":["C:/Users/KIIT0001/Desktop/accessible-learning-platform/frontend/src/pages/CourseDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { speak } from '../utils/voiceUtils';\r\n\r\nconst CourseDetail = () => {\r\n  const { id } = useParams();\r\n  const [course, setCourse] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchCourse = async () => {\r\n      try {\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${localStorage.getItem('token')}`;\r\n        const res = await axios.get(`/courses/${id}`);\r\n        setCourse(res.data);\r\n        speak(`Course: ${res.data.title}. Description: ${res.data.description}. Say play to hear content.`);\r\n      } catch (err) {\r\n        speak('Error fetching course.');\r\n      }\r\n    };\r\n    fetchCourse();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (course) {\r\n      const handleCommand = (e) => {\r\n        const command = e.detail;\r\n        if (command.includes('play')) {\r\n          speak(course.content); // TTS the content\r\n        } else if (command.includes('pause')) {\r\n          speechSynthesis.pause();\r\n        } else if (command.includes('resume')) {\r\n          speechSynthesis.resume();\r\n        } else if (command.includes('stop')) {\r\n          speechSynthesis.cancel();\r\n        }\r\n      };\r\n      window.addEventListener('voiceCommand', handleCommand);\r\n      return () => window.removeEventListener('voiceCommand', handleCommand);\r\n    }\r\n  }, [course]);\r\n\r\n  return <div aria-live=\"polite\">Course Detail (Voice Playback)</div>;\r\n};\r\n\r\nexport default CourseDetail;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,EAAG,CAAC,CAAGN,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACO,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACFR,KAAK,CAACS,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CAC1F,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,aAAAJ,MAAA,CAAaP,EAAE,CAAE,CAAC,CAC7CE,SAAS,CAACQ,GAAG,CAACE,IAAI,CAAC,CACnBhB,KAAK,YAAAW,MAAA,CAAYG,GAAG,CAACE,IAAI,CAACC,KAAK,oBAAAN,MAAA,CAAkBG,GAAG,CAACE,IAAI,CAACE,WAAW,+BAA6B,CAAC,CACrG,CAAE,MAAOC,GAAG,CAAE,CACZnB,KAAK,CAAC,wBAAwB,CAAC,CACjC,CACF,CAAC,CACDO,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACH,EAAE,CAAC,CAAC,CAERP,SAAS,CAAC,IAAM,CACd,GAAIQ,MAAM,CAAE,CACV,KAAM,CAAAe,aAAa,CAAIC,CAAC,EAAK,CAC3B,KAAM,CAAAC,OAAO,CAAGD,CAAC,CAACE,MAAM,CACxB,GAAID,OAAO,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CAC5BxB,KAAK,CAACK,MAAM,CAACoB,OAAO,CAAC,CAAE;AACzB,CAAC,IAAM,IAAIH,OAAO,CAACE,QAAQ,CAAC,OAAO,CAAC,CAAE,CACpCE,eAAe,CAACC,KAAK,CAAC,CAAC,CACzB,CAAC,IAAM,IAAIL,OAAO,CAACE,QAAQ,CAAC,QAAQ,CAAC,CAAE,CACrCE,eAAe,CAACE,MAAM,CAAC,CAAC,CAC1B,CAAC,IAAM,IAAIN,OAAO,CAACE,QAAQ,CAAC,MAAM,CAAC,CAAE,CACnCE,eAAe,CAACG,MAAM,CAAC,CAAC,CAC1B,CACF,CAAC,CACDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEX,aAAa,CAAC,CACtD,MAAO,IAAMU,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAEZ,aAAa,CAAC,CACxE,CACF,CAAC,CAAE,CAACf,MAAM,CAAC,CAAC,CAEZ,mBAAOH,IAAA,QAAK,YAAU,QAAQ,CAAA+B,QAAA,CAAC,gCAA8B,CAAK,CAAC,CACrE,CAAC,CAED,cAAe,CAAA9B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}