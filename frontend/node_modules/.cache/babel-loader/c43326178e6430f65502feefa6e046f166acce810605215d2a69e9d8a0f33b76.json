{"ast":null,"code":"// Speech Recognition Setup\nlet recognition;let isListening=false;if('SpeechRecognition'in window||'webkitSpeechRecognition'in window){const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;recognition=new SpeechRecognition();recognition.continuous=true;recognition.interimResults=false;recognition.lang='en-US';}else{console.error('Speech Recognition not supported');}// TTS Setup\nconst speak=function(text){let onEnd=arguments.length>1&&arguments[1]!==undefined?arguments[1]:()=>{};const utterance=new SpeechSynthesisUtterance(text);utterance.onend=onEnd;speechSynthesis.speak(utterance);};const startListening=onResult=>{if(!recognition||isListening)return;recognition.onresult=event=>{const command=event.results[event.results.length-1][0].transcript.toLowerCase().trim();onResult(command);};recognition.onend=()=>{isListening=false;};recognition.onerror=()=>{isListening=false;};try{recognition.start();isListening=true;}catch(e){// If already started, ignore the error\n// Optionally, you can log it: console.warn(e);\n}};const stopListening=()=>{if(recognition&&isListening){recognition.stop();isListening=false;}};export{speak,startListening,stopListening};","map":{"version":3,"names":["recognition","isListening","window","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","console","error","speak","text","onEnd","arguments","length","undefined","utterance","SpeechSynthesisUtterance","onend","speechSynthesis","startListening","onResult","onresult","event","command","results","transcript","toLowerCase","trim","onerror","start","e","stopListening","stop"],"sources":["C:/Users/KIIT0001/Desktop/accessible-learning-platform/frontend/src/utils/voiceUtils.js"],"sourcesContent":["// Speech Recognition Setup\r\nlet recognition;\r\nlet isListening = false;\r\n\r\nif ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\r\n  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n  recognition = new SpeechRecognition();\r\n  recognition.continuous = true;\r\n  recognition.interimResults = false;\r\n  recognition.lang = 'en-US';\r\n} else {\r\n  console.error('Speech Recognition not supported');\r\n}\r\n\r\n// TTS Setup\r\nconst speak = (text, onEnd = () => {}) => {\r\n  const utterance = new SpeechSynthesisUtterance(text);\r\n  utterance.onend = onEnd;\r\n  speechSynthesis.speak(utterance);\r\n};\r\n\r\nconst startListening = (onResult) => {\r\n  if (!recognition || isListening) return;\r\n  recognition.onresult = (event) => {\r\n    const command = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();\r\n    onResult(command);\r\n  };\r\n  recognition.onend = () => {\r\n    isListening = false;\r\n  };\r\n  recognition.onerror = () => {\r\n    isListening = false;\r\n  };\r\n  try {\r\n    recognition.start();\r\n    isListening = true;\r\n  } catch (e) {\r\n    // If already started, ignore the error\r\n    // Optionally, you can log it: console.warn(e);\r\n  }\r\n};\r\n\r\nconst stopListening = () => {\r\n  if (recognition && isListening) {\r\n    recognition.stop();\r\n    isListening = false;\r\n  }\r\n};\r\n\r\nexport { speak, startListening, stopListening };"],"mappings":"AAAA;AACA,GAAI,CAAAA,WAAW,CACf,GAAI,CAAAC,WAAW,CAAG,KAAK,CAEvB,GAAI,mBAAmB,EAAI,CAAAC,MAAM,EAAI,yBAAyB,EAAI,CAAAA,MAAM,CAAE,CACxE,KAAM,CAAAC,iBAAiB,CAAGD,MAAM,CAACC,iBAAiB,EAAID,MAAM,CAACE,uBAAuB,CACpFJ,WAAW,CAAG,GAAI,CAAAG,iBAAiB,CAAC,CAAC,CACrCH,WAAW,CAACK,UAAU,CAAG,IAAI,CAC7BL,WAAW,CAACM,cAAc,CAAG,KAAK,CAClCN,WAAW,CAACO,IAAI,CAAG,OAAO,CAC5B,CAAC,IAAM,CACLC,OAAO,CAACC,KAAK,CAAC,kCAAkC,CAAC,CACnD,CAEA;AACA,KAAM,CAAAC,KAAK,CAAG,QAAAA,CAACC,IAAI,CAAuB,IAArB,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAM,CAAC,CAAC,CACnC,KAAM,CAAAG,SAAS,CAAG,GAAI,CAAAC,wBAAwB,CAACN,IAAI,CAAC,CACpDK,SAAS,CAACE,KAAK,CAAGN,KAAK,CACvBO,eAAe,CAACT,KAAK,CAACM,SAAS,CAAC,CAClC,CAAC,CAED,KAAM,CAAAI,cAAc,CAAIC,QAAQ,EAAK,CACnC,GAAI,CAACrB,WAAW,EAAIC,WAAW,CAAE,OACjCD,WAAW,CAACsB,QAAQ,CAAIC,KAAK,EAAK,CAChC,KAAM,CAAAC,OAAO,CAAGD,KAAK,CAACE,OAAO,CAACF,KAAK,CAACE,OAAO,CAACX,MAAM,CAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAACY,UAAU,CAACC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAC1FP,QAAQ,CAACG,OAAO,CAAC,CACnB,CAAC,CACDxB,WAAW,CAACkB,KAAK,CAAG,IAAM,CACxBjB,WAAW,CAAG,KAAK,CACrB,CAAC,CACDD,WAAW,CAAC6B,OAAO,CAAG,IAAM,CAC1B5B,WAAW,CAAG,KAAK,CACrB,CAAC,CACD,GAAI,CACFD,WAAW,CAAC8B,KAAK,CAAC,CAAC,CACnB7B,WAAW,CAAG,IAAI,CACpB,CAAE,MAAO8B,CAAC,CAAE,CACV;AACA;AAAA,CAEJ,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAIhC,WAAW,EAAIC,WAAW,CAAE,CAC9BD,WAAW,CAACiC,IAAI,CAAC,CAAC,CAClBhC,WAAW,CAAG,KAAK,CACrB,CACF,CAAC,CAED,OAASS,KAAK,CAAEU,cAAc,CAAEY,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}